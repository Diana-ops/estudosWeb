const { obterPessoas } = require('./service') 

//Criando o nosso próprio reduce

Array.prototype.meuReduce = function(callback, valorInicial) {
	let valorFinal = typeof valorInicial !== undefined ? valorInicial : this[0]
	for(let index = 0; index <= this.length-1; index++){
		valorFinal = callback(valorFinal, this[index], this)
	}

	return valorFinal;
}	

async function main(){
	try{
		const { results } = await obterPessoas(`a`)

		//Somar o peso de todas as pessoas

		const pesos = results.map(item => parseInt(item.height))
		console.log('pesos', pesos)

		const minhaLista = [
			['Erick', 'Wendel'],
			['NodeBR', 'Nerdzão']
		]
		//juntando listas
		const total = minhaLista.meuReduce((anterior, proximo) => {
			return anterior.concat(proximo)
		}, [])

		.join(', ')
		/*
		const total = pesos.reduce((anterior, proximo) => {
			return anterior + proximo
		}, 0)
		*/

		console.log('total', total)

	}catch(error){
		console.log('deu ruim', error)
	}
}
main()